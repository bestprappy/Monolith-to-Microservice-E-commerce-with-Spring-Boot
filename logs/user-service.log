2026-01-29T00:02:09.319+07:00  INFO 23620 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T00:07:09.379+07:00  INFO 23620 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T00:12:09.382+07:00  INFO 23620 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T00:17:09.384+07:00  INFO 23620 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T00:22:09.395+07:00  INFO 23620 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T00:27:09.411+07:00  INFO 23620 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T00:32:09.420+07:00  INFO 23620 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T00:37:09.421+07:00  INFO 23620 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T00:42:09.423+07:00  INFO 23620 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T00:47:09.438+07:00  INFO 23620 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T00:52:09.451+07:00  INFO 23620 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T00:57:09.453+07:00  INFO 23620 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T01:02:09.455+07:00  INFO 23620 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T01:07:09.469+07:00  INFO 23620 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T22:04:35.373+07:00  INFO 7396 --- [user-service] [main] [                                                 ] com.ecommerce.user.UserApplication       : Starting UserApplication using Java 25 with PID 7396 (C:\Users\User\Desktop\Full Stack\Microservice\ecom-microservices\user\target\classes started by User in C:\Users\User\Desktop\Full Stack\Microservice\ecom-microservices)
2026-01-29T22:04:35.376+07:00  INFO 7396 --- [user-service] [main] [                                                 ] com.ecommerce.user.UserApplication       : No active profile set, falling back to 1 default profile: "default"
2026-01-29T22:04:35.413+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://localhost:8888
2026-01-29T22:04:35.413+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=user-service, profiles=[default], label=null, version=null, state=null
2026-01-29T22:04:36.591+07:00  INFO 7396 --- [user-service] [main] [                                                 ] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2026-01-29T22:04:36.741+07:00  INFO 7396 --- [user-service] [main] [                                                 ] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 141 ms. Found 1 MongoDB repository interface.
2026-01-29T22:04:37.082+07:00  INFO 7396 --- [user-service] [main] [                                                 ] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2026-01-29T22:04:37.089+07:00  INFO 7396 --- [user-service] [main] [                                                 ] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2026-01-29T22:04:37.132+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f66b19c7-6f11-3c17-a55f-2cebe1a2981e
2026-01-29T22:04:37.491+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8082 (http)
2026-01-29T22:04:37.505+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-29T22:04:37.506+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-01-29T22:04:37.580+07:00  INFO 7396 --- [user-service] [main] [                                                 ] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 2165 ms
2026-01-29T22:04:39.158+07:00  INFO 7396 --- [user-service] [cluster-ClusterId{value='697b7707cae7182b75ea3d18', description='user-data'}-srv-user-data.gqw7u26.mongodb.net] [                                                 ] org.mongodb.driver.cluster               : Adding discovered server ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017 to client view of cluster
2026-01-29T22:04:39.175+07:00  INFO 7396 --- [user-service] [main] [                                                 ] org.mongodb.driver.client                : MongoClient with metadata {"application": {"name": "user-data"}, "driver": {"name": "mongo-java-driver|spring-boot|sync", "version": "5.6.2"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/25+36-3489"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='xxthenerdlordxx_db_user', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@750adad8], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@41935a9d, com.mongodb.Jep395RecordCodecProvider@1b08d26f, com.mongodb.KotlinCodecProvider@565030b7, EnumCodecProvider{}]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=user-data.gqw7u26.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-h93add-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@752fecbf], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='user-data', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2026-01-29T22:04:39.222+07:00  INFO 7396 --- [user-service] [cluster-ClusterId{value='697b7707cae7182b75ea3d18', description='user-data'}-srv-user-data.gqw7u26.mongodb.net] [                                                 ] org.mongodb.driver.cluster               : Adding discovered server ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017 to client view of cluster
2026-01-29T22:04:39.223+07:00  INFO 7396 --- [user-service] [cluster-ClusterId{value='697b7707cae7182b75ea3d18', description='user-data'}-srv-user-data.gqw7u26.mongodb.net] [                                                 ] org.mongodb.driver.cluster               : Adding discovered server ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017 to client view of cluster
2026-01-29T22:04:39.806+07:00  INFO 7396 --- [user-service] [cluster-ClusterId{value='697b7707cae7182b75ea3d18', description='user-data'}-ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017] [                                                 ] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017, type=REPLICA_SET_SECONDARY, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=481000900, minRoundTripTimeNanos=0, setName='atlas-h93add-shard-0', canonicalAddress=ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017, hosts=[ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017], passives=[], arbiters=[], primary='ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=45, topologyVersion=TopologyVersion{processId=697a060bd63779e72c2f6148, counter=3}, lastWriteDate=Thu Jan 29 22:04:38 GMT+07:00 2026, lastUpdateTimeNanos=130464007180800}
2026-01-29T22:04:39.806+07:00  INFO 7396 --- [user-service] [cluster-ClusterId{value='697b7707cae7182b75ea3d18', description='user-data'}-ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017] [                                                 ] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017, type=REPLICA_SET_PRIMARY, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=480670400, minRoundTripTimeNanos=0, setName='atlas-h93add-shard-0', canonicalAddress=ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017, hosts=[ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017], passives=[], arbiters=[], primary='ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff000000000000013e, setVersion=45, topologyVersion=TopologyVersion{processId=697a03a9db663abe856e551f, counter=6}, lastWriteDate=Thu Jan 29 22:04:38 GMT+07:00 2026, lastUpdateTimeNanos=130464006854100}
2026-01-29T22:04:39.806+07:00  INFO 7396 --- [user-service] [cluster-ClusterId{value='697b7707cae7182b75ea3d18', description='user-data'}-ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017] [                                                 ] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017, type=REPLICA_SET_SECONDARY, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=480606700, minRoundTripTimeNanos=0, setName='atlas-h93add-shard-0', canonicalAddress=ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017, hosts=[ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017], passives=[], arbiters=[], primary='ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=45, topologyVersion=TopologyVersion{processId=697b74c584123dc195d10ea7, counter=3}, lastWriteDate=Thu Jan 29 22:04:38 GMT+07:00 2026, lastUpdateTimeNanos=130464006854200}
2026-01-29T22:04:39.820+07:00  INFO 7396 --- [user-service] [cluster-ClusterId{value='697b7707cae7182b75ea3d18', description='user-data'}-ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017] [                                                 ] org.mongodb.driver.cluster               : Discovered replica set primary ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017 with max election id 7fffffff000000000000013e and max set version 45
2026-01-29T22:04:40.750+07:00  INFO 7396 --- [user-service] [cluster-ClusterId{value='697b7707cae7182b75ea3d18', description='user-data'}-ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017] [                                                 ] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017

com.mongodb.MongoNodeIsRecoveringException: Command execution failed on MongoDB server with error 91 (ShutdownInProgress): 'The server is in quiesce mode and will shut down' on server ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017. The full response is {"topologyVersion": {"processId": {"$oid": "697a060bd63779e72c2f6148"}, "counter": 4}, "ok": 0.0, "errmsg": "The server is in quiesce mode and will shut down", "code": 91, "codeName": "ShutdownInProgress", "remainingQuiesceTimeMillis": 14998, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1769699080, "i": 8}}, "signature": {"hash": {"$binary": {"base64": "PgCr/T31MN7m4hzpRGSlbBvm8JQ=", "subType": "00"}}, "keyId": 7553355011183345676}}, "operationTime": {"$timestamp": {"t": 1769699080, "i": 8}}}
	at com.mongodb.internal.connection.ProtocolHelper.createSpecialException(ProtocolHelper.java:264) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:206) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:520) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:469) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.doHeartbeat(DefaultServerMonitor.java:311) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.lookupServerDescription(DefaultServerMonitor.java:262) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.run(DefaultServerMonitor.java:203) ~[mongodb-driver-core-5.6.2.jar:na]

2026-01-29T22:04:40.885+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2026-01-29T22:04:42.064+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.s.c.s.m.DirectWithAttributesChannel    : Channel 'user-service.springCloudBusInput' has 1 subscriber(s).
2026-01-29T22:04:43.432+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2026-01-29T22:04:44.937+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2026-01-29T22:04:44.956+07:00  INFO 7396 --- [user-service] [main] [                                                 ] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestClient.
2026-01-29T22:04:45.019+07:00  WARN 7396 --- [user-service] [main] [                                                 ] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2026-01-29T22:04:45.031+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 25 endpoints beneath base path '/actuator'
2026-01-29T22:04:45.287+07:00  INFO 7396 --- [user-service] [main] [                                                 ] figuration$IntegrationJmxConfiguration$1 : Registering MessageChannel errorChannel
2026-01-29T22:04:45.299+07:00  INFO 7396 --- [user-service] [main] [                                                 ] figuration$IntegrationJmxConfiguration$1 : Registering MessageChannel springCloudBusInput
2026-01-29T22:04:45.307+07:00  INFO 7396 --- [user-service] [main] [                                                 ] figuration$IntegrationJmxConfiguration$1 : Registering MessageChannel nullChannel
2026-01-29T22:04:45.316+07:00  INFO 7396 --- [user-service] [main] [                                                 ] figuration$IntegrationJmxConfiguration$1 : Registering MessageHandler _org.springframework.integration.errorLogger
2026-01-29T22:04:45.333+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2026-01-29T22:04:45.334+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.s.i.channel.PublishSubscribeChannel    : Channel 'user-service.errorChannel' has 1 subscriber(s).
2026-01-29T22:04:45.335+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2026-01-29T22:04:45.367+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2026-01-29T22:04:45.420+07:00  INFO 7396 --- [user-service] [main] [                                                 ] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2026-01-29T22:04:45.426+07:00  INFO 7396 --- [user-service] [main] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T22:04:45.442+07:00  INFO 7396 --- [user-service] [main] [                                                 ] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2026-01-29T22:04:45.443+07:00  INFO 7396 --- [user-service] [main] [                                                 ] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2026-01-29T22:04:45.443+07:00  INFO 7396 --- [user-service] [main] [                                                 ] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2026-01-29T22:04:45.443+07:00  INFO 7396 --- [user-service] [main] [                                                 ] com.netflix.discovery.DiscoveryClient    : Application is null : false
2026-01-29T22:04:45.444+07:00  INFO 7396 --- [user-service] [main] [                                                 ] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2026-01-29T22:04:45.445+07:00  INFO 7396 --- [user-service] [main] [                                                 ] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2026-01-29T22:04:45.445+07:00  INFO 7396 --- [user-service] [main] [                                                 ] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2026-01-29T22:04:45.871+07:00  INFO 7396 --- [user-service] [main] [                                                 ] com.netflix.discovery.DiscoveryClient    : The response status is 200
2026-01-29T22:04:45.874+07:00  INFO 7396 --- [user-service] [main] [                                                 ] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2026-01-29T22:04:45.876+07:00  INFO 7396 --- [user-service] [main] [                                                 ] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2026-01-29T22:04:45.878+07:00  INFO 7396 --- [user-service] [main] [                                                 ] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1769699085877 with initial instances count: 0
2026-01-29T22:04:45.883+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application USER-SERVICE with eureka with status UP
2026-01-29T22:04:45.884+07:00  INFO 7396 --- [user-service] [main] [                                                 ] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1769699085884, current=UP, previous=STARTING]
2026-01-29T22:04:45.886+07:00  INFO 7396 --- [user-service] [DiscoveryClient-InstanceInfoReplicator-%d] [                                                 ] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USER-SERVICE/localhost:user-service:8082: registering service...
2026-01-29T22:04:45.887+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.s.c.s.binder.DefaultBinderFactory      : Creating binder: rabbit
2026-01-29T22:04:45.888+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.s.c.s.binder.DefaultBinderFactory      : Constructing binder child context for rabbit
2026-01-29T22:04:45.940+07:00  INFO 7396 --- [user-service] [DiscoveryClient-InstanceInfoReplicator-%d] [                                                 ] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USER-SERVICE/localhost:user-service:8082 - registration status: 204
2026-01-29T22:04:46.029+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.s.c.s.binder.DefaultBinderFactory      : Caching the binder: rabbit
2026-01-29T22:04:46.048+07:00  INFO 7396 --- [user-service] [main] [                                                 ] c.s.b.r.p.RabbitExchangeQueueProvisioner : declaring queue for inbound: springCloudBus.anonymous.hyC4SwesQN62xc7l8TubXQ, bound to: springCloudBus
2026-01-29T22:04:46.054+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2026-01-29T22:04:46.158+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#ab5954d:0/SimpleConnection@71a9e31b [delegate=amqp://guest@127.0.0.1:5672/, localPort=55588]
2026-01-29T22:04:46.242+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.s.c.stream.binder.BinderErrorChannel   : Channel 'rabbit-96443314.springCloudBusInput.errors' has 1 subscriber(s).
2026-01-29T22:04:46.243+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.s.c.stream.binder.BinderErrorChannel   : Channel 'rabbit-96443314.springCloudBusInput.errors' has 2 subscriber(s).
2026-01-29T22:04:46.274+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.s.i.a.i.AmqpInboundChannelAdapter      : started bean 'inbound.springCloudBus.anonymous.hyC4SwesQN62xc7l8TubXQ'
2026-01-29T22:04:46.295+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8082 (http) with context path '/'
2026-01-29T22:04:46.297+07:00  INFO 7396 --- [user-service] [main] [                                                 ] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8082
2026-01-29T22:04:46.974+07:00  WARN 7396 --- [user-service] [AsyncReporter{ZipkinHttpClientSender{http://localhost:9411/api/v2/spans}}] [                                                 ] z.r.i.AsyncReporter$BoundedAsyncReporter : Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2026-01-29T22:04:46.976+07:00  WARN 7396 --- [user-service] [AsyncReporter{ZipkinHttpClientSender{http://localhost:9411/api/v2/spans}}] [                                                 ] z.r.i.AsyncReporter$BoundedAsyncReporter : Dropped 2 spans due to ConnectException()

java.net.ConnectException
	at java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:923) ~[java.net.http:na]
	at java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:133) ~[java.net.http:na]
	at org.springframework.boot.zipkin.autoconfigure.ZipkinHttpClientSender.postSpans(ZipkinHttpClientSender.java:59) ~[spring-boot-zipkin-4.0.1.jar:4.0.1]
	at org.springframework.boot.zipkin.autoconfigure.HttpSender.postSpans(HttpSender.java:69) ~[spring-boot-zipkin-4.0.1.jar:4.0.1]
	at org.springframework.boot.zipkin.autoconfigure.HttpSender.postSpans(HttpSender.java:41) ~[spring-boot-zipkin-4.0.1.jar:4.0.1]
	at zipkin2.reporter.BaseHttpSender.send(BaseHttpSender.java:123) ~[zipkin-reporter-3.5.1.jar:na]
	at zipkin2.reporter.internal.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:266) ~[zipkin-reporter-3.5.1.jar:na]
	at zipkin2.reporter.internal.AsyncReporter$Flusher.run(AsyncReporter.java:352) ~[zipkin-reporter-3.5.1.jar:na]
	at java.base/java.lang.Thread.run(Thread.java:1474) ~[na:na]
Caused by: java.net.ConnectException
	at java.net.http/jdk.internal.net.http.common.Utils.toConnectException(Utils.java:1070) ~[java.net.http:na]
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.connectAsync(PlainHttpConnection.java:223) ~[java.net.http:na]
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.checkRetryConnect(PlainHttpConnection.java:277) ~[java.net.http:na]
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.lambda$connectAsync$0(PlainHttpConnection.java:235) ~[java.net.http:na]
	at java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:955) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:932) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:531) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1794) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1090) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:614) ~[na:na]
	... 1 common frames omitted
Caused by: java.nio.channels.ClosedChannelException
	at java.base/sun.nio.ch.SocketChannelImpl.ensureOpen(SocketChannelImpl.java:204) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:942) ~[na:na]
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.connectAsync(PlainHttpConnection.java:211) ~[java.net.http:na]
	... 9 common frames omitted

2026-01-29T22:04:47.324+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2026-01-29T22:04:48.348+07:00  INFO 7396 --- [user-service] [main] [                                                 ] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2026-01-29T22:04:48.385+07:00  INFO 7396 --- [user-service] [main] [                                                 ] figuration$IntegrationJmxConfiguration$1 : Registering MessageChannel rabbit-96443314.springCloudBusInput.errors
2026-01-29T22:04:48.438+07:00  INFO 7396 --- [user-service] [main] [                                                 ] com.ecommerce.user.UserApplication       : Started UserApplication in 15.056 seconds (process running for 25.377)
2026-01-29T22:05:02.323+07:00  INFO 7396 --- [user-service] [cluster-ClusterId{value='697b7707cae7182b75ea3d18', description='user-data'}-ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017] [                                                 ] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017

com.mongodb.MongoSocketReadTimeoutException: Timeout while receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.createReadTimeoutException(InternalStreamConnection.java:819) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:807) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:857) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:517) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceiveInternal(InternalStreamConnection.java:448) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendAndReceive$0(InternalStreamConnection.java:375) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:378) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:98) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:47) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:144) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:78) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:235) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.setupNewConnectionAndGetInitialDescription(DefaultServerMonitor.java:282) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.lookupServerDescription(DefaultServerMonitor.java:253) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.run(DefaultServerMonitor.java:203) ~[mongodb-driver-core-5.6.2.jar:na]
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:277) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:302) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:354) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:798) ~[na:na]
	at java.base/java.net.Socket$SocketInputStream.implRead(Socket.java:974) ~[na:na]
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:964) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:489) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:483) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1461) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1068) ~[na:na]
	at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:182) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:824) ~[mongodb-driver-core-5.6.2.jar:na]
	... 12 common frames omitted

2026-01-29T22:05:14.530+07:00  INFO 7396 --- [user-service] [cluster-ClusterId{value='697b7707cae7182b75ea3d18', description='user-data'}-ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017] [                                                 ] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:85) ~[mongodb-driver-core-5.6.2.jar:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:85) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:233) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.setupNewConnectionAndGetInitialDescription(DefaultServerMonitor.java:282) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.lookupServerDescription(DefaultServerMonitor.java:253) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.run(DefaultServerMonitor.java:203) ~[mongodb-driver-core-5.6.2.jar:na]
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:639) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:550) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:594) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:284) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:659) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:304) ~[na:na]
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:104) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:79) ~[mongodb-driver-core-5.6.2.jar:na]
	... 4 common frames omitted

2026-01-29T22:05:15.876+07:00  INFO 7396 --- [user-service] [DiscoveryClient-CacheRefreshExecutor-%d] [                                                 ] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2026-01-29T22:05:15.876+07:00  INFO 7396 --- [user-service] [DiscoveryClient-CacheRefreshExecutor-%d] [                                                 ] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2026-01-29T22:05:15.876+07:00  INFO 7396 --- [user-service] [DiscoveryClient-CacheRefreshExecutor-%d] [                                                 ] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2026-01-29T22:05:15.876+07:00  INFO 7396 --- [user-service] [DiscoveryClient-CacheRefreshExecutor-%d] [                                                 ] com.netflix.discovery.DiscoveryClient    : Application is null : false
2026-01-29T22:05:15.876+07:00  INFO 7396 --- [user-service] [DiscoveryClient-CacheRefreshExecutor-%d] [                                                 ] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2026-01-29T22:05:15.877+07:00  INFO 7396 --- [user-service] [DiscoveryClient-CacheRefreshExecutor-%d] [                                                 ] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2026-01-29T22:05:15.877+07:00  INFO 7396 --- [user-service] [DiscoveryClient-CacheRefreshExecutor-%d] [                                                 ] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2026-01-29T22:05:15.898+07:00  INFO 7396 --- [user-service] [DiscoveryClient-CacheRefreshExecutor-%d] [                                                 ] com.netflix.discovery.DiscoveryClient    : The response status is 200
2026-01-29T22:05:16.082+07:00  INFO 7396 --- [user-service] [http-nio-8082-exec-1] [                                                 ] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-29T22:05:16.082+07:00  INFO 7396 --- [user-service] [http-nio-8082-exec-1] [                                                 ] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-29T22:05:16.085+07:00  INFO 7396 --- [user-service] [http-nio-8082-exec-1] [                                                 ] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-29T22:05:26.274+07:00  INFO 7396 --- [user-service] [SpringApplicationShutdownHook] [                                                 ] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application USER-SERVICE with eureka with status DOWN
2026-01-29T22:05:26.274+07:00  INFO 7396 --- [user-service] [SpringApplicationShutdownHook] [                                                 ] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1769699126274, current=DOWN, previous=UP]
2026-01-29T22:05:26.274+07:00  INFO 7396 --- [user-service] [DiscoveryClient-InstanceInfoReplicator-%d] [                                                 ] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USER-SERVICE/localhost:user-service:8082: registering service...
2026-01-29T22:05:26.278+07:00  INFO 7396 --- [user-service] [SpringApplicationShutdownHook] [                                                 ] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-29T22:05:26.284+07:00  INFO 7396 --- [user-service] [DiscoveryClient-InstanceInfoReplicator-%d] [                                                 ] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USER-SERVICE/localhost:user-service:8082 - registration status: 204
2026-01-29T22:05:26.298+07:00  INFO 7396 --- [user-service] [tomcat-shutdown] [                                                 ] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-29T22:05:26.336+07:00  INFO 7396 --- [user-service] [SpringApplicationShutdownHook] [                                                 ] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2026-01-29T22:05:26.374+07:00  INFO 7396 --- [user-service] [SpringApplicationShutdownHook] [                                                 ] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2026-01-29T22:05:26.374+07:00  INFO 7396 --- [user-service] [SpringApplicationShutdownHook] [                                                 ] o.s.i.a.i.AmqpInboundChannelAdapter      : stopped bean 'inbound.springCloudBus.anonymous.hyC4SwesQN62xc7l8TubXQ'
2026-01-29T22:05:26.376+07:00  INFO 7396 --- [user-service] [SpringApplicationShutdownHook] [                                                 ] o.s.c.stream.binder.BinderErrorChannel   : Channel 'user-service.rabbit-96443314.springCloudBusInput.errors' has 1 subscriber(s).
2026-01-29T22:05:26.377+07:00  INFO 7396 --- [user-service] [SpringApplicationShutdownHook] [                                                 ] o.s.c.stream.binder.BinderErrorChannel   : Channel 'user-service.rabbit-96443314.springCloudBusInput.errors' has 0 subscriber(s).
2026-01-29T22:05:26.401+07:00  INFO 7396 --- [user-service] [SpringApplicationShutdownHook] [                                                 ] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2026-01-29T22:05:26.401+07:00  INFO 7396 --- [user-service] [SpringApplicationShutdownHook] [                                                 ] o.s.i.channel.PublishSubscribeChannel    : Channel 'user-service.errorChannel' has 0 subscriber(s).
2026-01-29T22:05:26.402+07:00  INFO 7396 --- [user-service] [SpringApplicationShutdownHook] [                                                 ] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2026-01-29T22:05:26.549+07:00  INFO 7396 --- [user-service] [SpringApplicationShutdownHook] [                                                 ] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2026-01-29T22:05:29.550+07:00  INFO 7396 --- [user-service] [SpringApplicationShutdownHook] [                                                 ] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2026-01-29T22:05:29.557+07:00  INFO 7396 --- [user-service] [SpringApplicationShutdownHook] [                                                 ] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USER-SERVICE/localhost:user-service:8082 - deregister  status: 200
2026-01-29T22:05:29.557+07:00  INFO 7396 --- [user-service] [SpringApplicationShutdownHook] [                                                 ] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2026-01-29T22:05:33.910+07:00  INFO 9456 --- [user-service] [main] [                                                 ] com.ecommerce.user.UserApplication       : Starting UserApplication using Java 25 with PID 9456 (C:\Users\User\Desktop\Full Stack\Microservice\ecom-microservices\user\target\classes started by User in C:\Users\User\Desktop\Full Stack\Microservice\ecom-microservices)
2026-01-29T22:05:33.916+07:00  INFO 9456 --- [user-service] [main] [                                                 ] com.ecommerce.user.UserApplication       : No active profile set, falling back to 1 default profile: "default"
2026-01-29T22:05:33.964+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://localhost:8888
2026-01-29T22:05:33.964+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=user-service, profiles=[default], label=null, version=null, state=null
2026-01-29T22:05:35.136+07:00  INFO 9456 --- [user-service] [main] [                                                 ] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2026-01-29T22:05:35.279+07:00  INFO 9456 --- [user-service] [main] [                                                 ] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 130 ms. Found 1 MongoDB repository interface.
2026-01-29T22:05:35.614+07:00  INFO 9456 --- [user-service] [main] [                                                 ] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2026-01-29T22:05:35.620+07:00  INFO 9456 --- [user-service] [main] [                                                 ] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2026-01-29T22:05:35.667+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f66b19c7-6f11-3c17-a55f-2cebe1a2981e
2026-01-29T22:05:36.039+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8082 (http)
2026-01-29T22:05:36.053+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-29T22:05:36.054+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-01-29T22:05:36.124+07:00  INFO 9456 --- [user-service] [main] [                                                 ] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 2156 ms
2026-01-29T22:05:36.923+07:00  INFO 9456 --- [user-service] [cluster-ClusterId{value='697b77407e37b50d15562acf', description='user-data'}-srv-user-data.gqw7u26.mongodb.net] [                                                 ] org.mongodb.driver.cluster               : Adding discovered server ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017 to client view of cluster
2026-01-29T22:05:36.929+07:00  INFO 9456 --- [user-service] [main] [                                                 ] org.mongodb.driver.client                : MongoClient with metadata {"application": {"name": "user-data"}, "driver": {"name": "mongo-java-driver|spring-boot|sync", "version": "5.6.2"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/25+36-3489"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='xxthenerdlordxx_db_user', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@3dd27116], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@63218586, com.mongodb.Jep395RecordCodecProvider@341c0dfc, com.mongodb.KotlinCodecProvider@7e0b68e5, EnumCodecProvider{}]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=user-data.gqw7u26.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-h93add-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@507fecf3], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='user-data', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}
2026-01-29T22:05:36.962+07:00  INFO 9456 --- [user-service] [cluster-ClusterId{value='697b77407e37b50d15562acf', description='user-data'}-srv-user-data.gqw7u26.mongodb.net] [                                                 ] org.mongodb.driver.cluster               : Adding discovered server ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017 to client view of cluster
2026-01-29T22:05:36.964+07:00  INFO 9456 --- [user-service] [cluster-ClusterId{value='697b77407e37b50d15562acf', description='user-data'}-srv-user-data.gqw7u26.mongodb.net] [                                                 ] org.mongodb.driver.cluster               : Adding discovered server ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017 to client view of cluster
2026-01-29T22:05:37.323+07:00  INFO 9456 --- [user-service] [cluster-ClusterId{value='697b77407e37b50d15562acf', description='user-data'}-ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017] [                                                 ] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017, type=REPLICA_SET_PRIMARY, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=292060400, minRoundTripTimeNanos=0, setName='atlas-h93add-shard-0', canonicalAddress=ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017, hosts=[ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017], passives=[], arbiters=[], primary='ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff000000000000013e, setVersion=45, topologyVersion=TopologyVersion{processId=697a03a9db663abe856e551f, counter=6}, lastWriteDate=Thu Jan 29 22:05:37 GMT+07:00 2026, lastUpdateTimeNanos=130521525657800}
2026-01-29T22:05:37.323+07:00  INFO 9456 --- [user-service] [cluster-ClusterId{value='697b77407e37b50d15562acf', description='user-data'}-ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017] [                                                 ] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017, type=REPLICA_SET_SECONDARY, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=290285600, minRoundTripTimeNanos=0, setName='atlas-h93add-shard-0', canonicalAddress=ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017, hosts=[ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017], passives=[], arbiters=[], primary='ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=45, topologyVersion=TopologyVersion{processId=697b74c584123dc195d10ea7, counter=3}, lastWriteDate=Thu Jan 29 22:05:37 GMT+07:00 2026, lastUpdateTimeNanos=130521525657800}
2026-01-29T22:05:37.326+07:00  INFO 9456 --- [user-service] [cluster-ClusterId{value='697b77407e37b50d15562acf', description='user-data'}-ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017] [                                                 ] org.mongodb.driver.cluster               : Discovered replica set primary ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017 with max election id 7fffffff000000000000013e and max set version 45
2026-01-29T22:05:38.300+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2026-01-29T22:05:39.202+07:00  INFO 9456 --- [user-service] [cluster-ClusterId{value='697b77407e37b50d15562acf', description='user-data'}-ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017] [                                                 ] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:85) ~[mongodb-driver-core-5.6.2.jar:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:85) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:233) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.setupNewConnectionAndGetInitialDescription(DefaultServerMonitor.java:282) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.lookupServerDescription(DefaultServerMonitor.java:253) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.run(DefaultServerMonitor.java:203) ~[mongodb-driver-core-5.6.2.jar:na]
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:639) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:550) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:594) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:284) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:659) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:304) ~[na:na]
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:104) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:79) ~[mongodb-driver-core-5.6.2.jar:na]
	... 4 common frames omitted

2026-01-29T22:05:39.284+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.s.c.s.m.DirectWithAttributesChannel    : Channel 'user-service.springCloudBusInput' has 1 subscriber(s).
2026-01-29T22:05:40.670+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2026-01-29T22:05:42.281+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2026-01-29T22:05:42.298+07:00  INFO 9456 --- [user-service] [main] [                                                 ] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestClient.
2026-01-29T22:05:42.358+07:00  WARN 9456 --- [user-service] [main] [                                                 ] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2026-01-29T22:05:42.368+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 25 endpoints beneath base path '/actuator'
2026-01-29T22:05:42.560+07:00  INFO 9456 --- [user-service] [main] [                                                 ] figuration$IntegrationJmxConfiguration$1 : Registering MessageChannel errorChannel
2026-01-29T22:05:42.569+07:00  INFO 9456 --- [user-service] [main] [                                                 ] figuration$IntegrationJmxConfiguration$1 : Registering MessageChannel springCloudBusInput
2026-01-29T22:05:42.575+07:00  INFO 9456 --- [user-service] [main] [                                                 ] figuration$IntegrationJmxConfiguration$1 : Registering MessageChannel nullChannel
2026-01-29T22:05:42.581+07:00  INFO 9456 --- [user-service] [main] [                                                 ] figuration$IntegrationJmxConfiguration$1 : Registering MessageHandler _org.springframework.integration.errorLogger
2026-01-29T22:05:42.594+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2026-01-29T22:05:42.594+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.s.i.channel.PublishSubscribeChannel    : Channel 'user-service.errorChannel' has 1 subscriber(s).
2026-01-29T22:05:42.595+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2026-01-29T22:05:42.621+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2026-01-29T22:05:42.662+07:00  INFO 9456 --- [user-service] [main] [                                                 ] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2026-01-29T22:05:42.668+07:00  INFO 9456 --- [user-service] [main] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T22:05:42.681+07:00  INFO 9456 --- [user-service] [main] [                                                 ] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2026-01-29T22:05:42.682+07:00  INFO 9456 --- [user-service] [main] [                                                 ] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2026-01-29T22:05:42.683+07:00  INFO 9456 --- [user-service] [main] [                                                 ] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2026-01-29T22:05:42.683+07:00  INFO 9456 --- [user-service] [main] [                                                 ] com.netflix.discovery.DiscoveryClient    : Application is null : false
2026-01-29T22:05:42.684+07:00  INFO 9456 --- [user-service] [main] [                                                 ] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2026-01-29T22:05:42.684+07:00  INFO 9456 --- [user-service] [main] [                                                 ] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2026-01-29T22:05:42.685+07:00  INFO 9456 --- [user-service] [main] [                                                 ] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2026-01-29T22:05:43.215+07:00  INFO 9456 --- [user-service] [main] [                                                 ] com.netflix.discovery.DiscoveryClient    : The response status is 200
2026-01-29T22:05:43.219+07:00  INFO 9456 --- [user-service] [main] [                                                 ] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2026-01-29T22:05:43.223+07:00  INFO 9456 --- [user-service] [main] [                                                 ] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2026-01-29T22:05:43.225+07:00  INFO 9456 --- [user-service] [main] [                                                 ] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1769699143224 with initial instances count: 2
2026-01-29T22:05:43.231+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application USER-SERVICE with eureka with status UP
2026-01-29T22:05:43.233+07:00  INFO 9456 --- [user-service] [main] [                                                 ] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1769699143233, current=UP, previous=STARTING]
2026-01-29T22:05:43.236+07:00  INFO 9456 --- [user-service] [DiscoveryClient-InstanceInfoReplicator-%d] [                                                 ] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USER-SERVICE/localhost:user-service:8082: registering service...
2026-01-29T22:05:43.238+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.s.c.s.binder.DefaultBinderFactory      : Creating binder: rabbit
2026-01-29T22:05:43.238+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.s.c.s.binder.DefaultBinderFactory      : Constructing binder child context for rabbit
2026-01-29T22:05:43.319+07:00  INFO 9456 --- [user-service] [DiscoveryClient-InstanceInfoReplicator-%d] [                                                 ] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_USER-SERVICE/localhost:user-service:8082 - registration status: 204
2026-01-29T22:05:43.451+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.s.c.s.binder.DefaultBinderFactory      : Caching the binder: rabbit
2026-01-29T22:05:43.476+07:00  INFO 9456 --- [user-service] [main] [                                                 ] c.s.b.r.p.RabbitExchangeQueueProvisioner : declaring queue for inbound: springCloudBus.anonymous.9S0tHb1CQZC6sz_85o7gsg, bound to: springCloudBus
2026-01-29T22:05:43.487+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2026-01-29T22:05:43.604+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#4adb2b87:0/SimpleConnection@2fa81b23 [delegate=amqp://guest@127.0.0.1:5672/, localPort=60005]
2026-01-29T22:05:43.706+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.s.c.stream.binder.BinderErrorChannel   : Channel 'rabbit-494368303.springCloudBusInput.errors' has 1 subscriber(s).
2026-01-29T22:05:43.708+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.s.c.stream.binder.BinderErrorChannel   : Channel 'rabbit-494368303.springCloudBusInput.errors' has 2 subscriber(s).
2026-01-29T22:05:43.772+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.s.i.a.i.AmqpInboundChannelAdapter      : started bean 'inbound.springCloudBus.anonymous.9S0tHb1CQZC6sz_85o7gsg'
2026-01-29T22:05:43.801+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8082 (http) with context path '/'
2026-01-29T22:05:43.804+07:00  INFO 9456 --- [user-service] [main] [                                                 ] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8082
2026-01-29T22:05:44.912+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2026-01-29T22:05:45.935+07:00  INFO 9456 --- [user-service] [main] [                                                 ] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2026-01-29T22:05:45.967+07:00  INFO 9456 --- [user-service] [main] [                                                 ] figuration$IntegrationJmxConfiguration$1 : Registering MessageChannel rabbit-494368303.springCloudBusInput.errors
2026-01-29T22:05:45.991+07:00  INFO 9456 --- [user-service] [main] [                                                 ] com.ecommerce.user.UserApplication       : Started UserApplication in 14.231 seconds (process running for 15.442)
2026-01-29T22:05:46.067+07:00  INFO 9456 --- [user-service] [http-nio-8082-exec-1] [                                                 ] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-29T22:05:46.068+07:00  INFO 9456 --- [user-service] [http-nio-8082-exec-1] [                                                 ] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-29T22:05:46.070+07:00  INFO 9456 --- [user-service] [http-nio-8082-exec-1] [                                                 ] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-29T22:05:46.766+07:00  WARN 9456 --- [user-service] [RMI TCP Connection(2)-192.168.31.24] [                                                 ] o.s.b.m.health.MongoHealthIndicator      : MongoDB health check failed

com.mongodb.MongoCommandException: Command execution failed on MongoDB server with error 8000 (AtlasError): '(Unauthorized) not authorized on local to execute command { hello: 1, $db: "local", $clusterTime: { clusterTime: {1769699142 3}, signature: { hash: {0 [93 113 208 227 158 114 154 80 14 133 83 209 193 210 227 86 116 84 203 80]}, keyId: 7553355011183345664.000000 } }, lsid: { id: {4 [95 24 0 211 190 184 64 122 156 78 133 34 49 119 82 184]} } }' on server ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017. The full response is {"ok": 0, "errmsg": "(Unauthorized) not authorized on local to execute command { hello: 1, $db: \"local\", $clusterTime: { clusterTime: {1769699142 3}, signature: { hash: {0 [93 113 208 227 158 114 154 80 14 133 83 209 193 210 227 86 116 84 203 80]}, keyId: 7553355011183345664.000000 } }, lsid: { id: {4 [95 24 0 211 190 184 64 122 156 78 133 34 49 119 82 184]} } }", "code": 8000, "codeName": "AtlasError"}
	at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:210) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:520) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceiveInternal(InternalStreamConnection.java:448) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendAndReceive$0(InternalStreamConnection.java:375) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:378) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:111) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:757) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:60) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:207) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:112) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:82) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:74) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServer$OperationCountTrackingConnection.command(DefaultServer.java:297) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.createReadCommandAndExecute(SyncOperationHelper.java:298) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.lambda$executeRetryableRead$3(SyncOperationHelper.java:197) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.lambda$withSourceAndConnection$0(SyncOperationHelper.java:131) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.withSuppliedResource(SyncOperationHelper.java:156) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.lambda$withSourceAndConnection$1(SyncOperationHelper.java:130) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.withSuppliedResource(SyncOperationHelper.java:156) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.withSourceAndConnection(SyncOperationHelper.java:129) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.lambda$executeRetryableRead$4(SyncOperationHelper.java:195) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.lambda$decorateReadWithRetries$13(SyncOperationHelper.java:317) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.async.function.RetryingSyncSupplier.get(RetryingSyncSupplier.java:67) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.executeRetryableRead(SyncOperationHelper.java:201) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.executeRetryableRead(SyncOperationHelper.java:180) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.operation.CommandReadOperation.execute(CommandReadOperation.java:60) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.client.internal.MongoClusterImpl$OperationExecutorImpl.execute(MongoClusterImpl.java:426) ~[mongodb-driver-sync-5.6.2.jar:na]
	at com.mongodb.client.internal.MongoDatabaseImpl.executeCommand(MongoDatabaseImpl.java:215) ~[mongodb-driver-sync-5.6.2.jar:na]
	at com.mongodb.client.internal.MongoDatabaseImpl.runCommand(MongoDatabaseImpl.java:184) ~[mongodb-driver-sync-5.6.2.jar:na]
	at com.mongodb.client.internal.MongoDatabaseImpl.runCommand(MongoDatabaseImpl.java:179) ~[mongodb-driver-sync-5.6.2.jar:na]
	at com.mongodb.client.internal.MongoDatabaseImpl.runCommand(MongoDatabaseImpl.java:169) ~[mongodb-driver-sync-5.6.2.jar:na]
	at org.springframework.boot.mongodb.health.MongoHealthIndicator.lambda$doHealthCheck$0(MongoHealthIndicator.java:57) ~[spring-boot-mongodb-4.0.1.jar:4.0.1]
	at com.mongodb.client.internal.MappingIterable.lambda$forEach$0(MappingIterable.java:62) ~[mongodb-driver-sync-5.6.2.jar:na]
	at com.mongodb.client.internal.MongoIterableImpl.forEach(MongoIterableImpl.java:144) ~[mongodb-driver-sync-5.6.2.jar:na]
	at com.mongodb.client.internal.MappingIterable.forEach(MappingIterable.java:62) ~[mongodb-driver-sync-5.6.2.jar:na]
	at org.springframework.boot.mongodb.health.MongoHealthIndicator.doHealthCheck(MongoHealthIndicator.java:56) ~[spring-boot-mongodb-4.0.1.jar:4.0.1]
	at org.springframework.boot.health.contributor.AbstractHealthIndicator.health(AbstractHealthIndicator.java:80) ~[spring-boot-health-4.0.1.jar:4.0.1]
	at org.springframework.boot.health.contributor.HealthIndicator.health(HealthIndicator.java:37) ~[spring-boot-health-4.0.1.jar:4.0.1]
	at org.springframework.boot.health.actuate.endpoint.Contributor$Blocking.getDescriptor(Contributor.java:148) ~[spring-boot-health-4.0.1.jar:4.0.1]
	at org.springframework.boot.health.actuate.endpoint.Contributor$Blocking.getDescriptor(Contributor.java:126) ~[spring-boot-health-4.0.1.jar:4.0.1]
	at org.springframework.boot.health.actuate.endpoint.HealthEndpointSupport.getDescriptorAndLogIfSlow(HealthEndpointSupport.java:172) ~[spring-boot-health-4.0.1.jar:4.0.1]
	at org.springframework.boot.health.actuate.endpoint.HealthEndpointSupport.getDescriptor(HealthEndpointSupport.java:145) ~[spring-boot-health-4.0.1.jar:4.0.1]
	at org.springframework.boot.health.actuate.endpoint.HealthEndpointSupport.getAggregateDescriptor(HealthEndpointSupport.java:157) ~[spring-boot-health-4.0.1.jar:4.0.1]
	at org.springframework.boot.health.actuate.endpoint.HealthEndpointSupport.getDescriptor(HealthEndpointSupport.java:141) ~[spring-boot-health-4.0.1.jar:4.0.1]
	at org.springframework.boot.health.actuate.endpoint.HealthEndpointSupport.getResult(HealthEndpointSupport.java:110) ~[spring-boot-health-4.0.1.jar:4.0.1]
	at org.springframework.boot.health.actuate.endpoint.HealthEndpointSupport.getResult(HealthEndpointSupport.java:82) ~[spring-boot-health-4.0.1.jar:4.0.1]
	at org.springframework.boot.health.actuate.endpoint.HealthEndpoint.health(HealthEndpoint.java:80) ~[spring-boot-health-4.0.1.jar:4.0.1]
	at org.springframework.boot.health.actuate.endpoint.HealthEndpoint.health(HealthEndpoint.java:70) ~[spring-boot-health-4.0.1.jar:4.0.1]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:76) ~[spring-boot-actuator-4.0.1.jar:4.0.1]
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:62) ~[spring-boot-actuator-4.0.1.jar:4.0.1]
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:127) ~[spring-boot-actuator-4.0.1.jar:4.0.1]
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:99) ~[spring-boot-actuator-4.0.1.jar:4.0.1]
	at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:628) ~[na:na]
	at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:790) ~[na:na]
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperationInner(RMIConnectionImpl.java:1401) ~[na:na]
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1327) ~[na:na]
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:790) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:351) ~[na:na]
	at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:166) ~[na:na]
	at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:543) ~[na:na]
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:744) ~[na:na]
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:623) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1090) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:614) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1474) ~[na:na]

2026-01-29T22:10:42.691+07:00  INFO 9456 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T22:12:02.464+07:00  INFO 9456 --- [user-service] [cluster-ClusterId{value='697b77407e37b50d15562acf', description='user-data'}-ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017] [                                                 ] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017, type=REPLICA_SET_SECONDARY, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=13120021300, minRoundTripTimeNanos=0, setName='atlas-h93add-shard-0', canonicalAddress=ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017, hosts=[ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017], passives=[], arbiters=[], primary='ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=45, topologyVersion=TopologyVersion{processId=697b788d89573229dd222b5c, counter=3}, lastWriteDate=Thu Jan 29 22:12:02 GMT+07:00 2026, lastUpdateTimeNanos=130906666858800}
2026-01-29T22:15:42.703+07:00  INFO 9456 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T22:20:42.707+07:00  INFO 9456 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T22:24:43.866+07:00  INFO 9456 --- [user-service] [cluster-ClusterId{value='697b77407e37b50d15562acf', description='user-data'}-ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017] [                                                 ] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017, type=REPLICA_SET_OTHER, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=35456803, minRoundTripTimeNanos=33192500, setName='atlas-h93add-shard-0', canonicalAddress=ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017, hosts=[ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017], passives=[], arbiters=[], primary='ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff000000000000013e, setVersion=45, topologyVersion=TopologyVersion{processId=697a03a9db663abe856e551f, counter=7}, lastWriteDate=Thu Jan 29 22:24:43 GMT+07:00 2026, lastUpdateTimeNanos=131668059730200}
2026-01-29T22:24:43.892+07:00  INFO 9456 --- [user-service] [cluster-ClusterId{value='697b77407e37b50d15562acf', description='user-data'}-ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017] [                                                 ] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017, type=REPLICA_SET_SECONDARY, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=32198906, minRoundTripTimeNanos=29850400, setName='atlas-h93add-shard-0', canonicalAddress=ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017, hosts=[ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017], passives=[], arbiters=[], primary='ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff000000000000013f, setVersion=45, topologyVersion=TopologyVersion{processId=697b788d89573229dd222b5c, counter=4}, lastWriteDate=Thu Jan 29 22:24:43 GMT+07:00 2026, lastUpdateTimeNanos=131668095377900}
2026-01-29T22:24:43.899+07:00  INFO 9456 --- [user-service] [cluster-ClusterId{value='697b77407e37b50d15562acf', description='user-data'}-ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017] [                                                 ] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017, type=REPLICA_SET_SECONDARY, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=35456803, minRoundTripTimeNanos=33192500, setName='atlas-h93add-shard-0', canonicalAddress=ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017, hosts=[ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017], passives=[], arbiters=[], primary='null', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=45, topologyVersion=TopologyVersion{processId=697a03a9db663abe856e551f, counter=8}, lastWriteDate=Thu Jan 29 22:24:43 GMT+07:00 2026, lastUpdateTimeNanos=131668103589500}
2026-01-29T22:24:43.981+07:00  INFO 9456 --- [user-service] [cluster-ClusterId{value='697b77407e37b50d15562acf', description='user-data'}-ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017] [                                                 ] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017, type=REPLICA_SET_SECONDARY, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=37845068, minRoundTripTimeNanos=35606900, setName='atlas-h93add-shard-0', canonicalAddress=ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017, hosts=[ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017], passives=[], arbiters=[], primary='null', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=45, topologyVersion=TopologyVersion{processId=697b74c584123dc195d10ea7, counter=4}, lastWriteDate=Thu Jan 29 22:24:43 GMT+07:00 2026, lastUpdateTimeNanos=131668184478600}
2026-01-29T22:24:44.052+07:00  INFO 9456 --- [user-service] [cluster-ClusterId{value='697b77407e37b50d15562acf', description='user-data'}-ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017] [                                                 ] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017, type=REPLICA_SET_PRIMARY, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=32198906, minRoundTripTimeNanos=29850400, setName='atlas-h93add-shard-0', canonicalAddress=ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017, hosts=[ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017], passives=[], arbiters=[], primary='ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff000000000000013f, setVersion=45, topologyVersion=TopologyVersion{processId=697b788d89573229dd222b5c, counter=6}, lastWriteDate=Thu Jan 29 22:24:44 GMT+07:00 2026, lastUpdateTimeNanos=131668256188300}
2026-01-29T22:24:44.052+07:00  INFO 9456 --- [user-service] [cluster-ClusterId{value='697b77407e37b50d15562acf', description='user-data'}-ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017] [                                                 ] org.mongodb.driver.cluster               : Discovered replica set primary ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017 with max election id 7fffffff000000000000013f and max set version 45
2026-01-29T22:24:44.485+07:00  INFO 9456 --- [user-service] [cluster-ClusterId{value='697b77407e37b50d15562acf', description='user-data'}-ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017] [                                                 ] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017

com.mongodb.MongoNodeIsRecoveringException: Command execution failed on MongoDB server with error 91 (ShutdownInProgress): 'The server is in quiesce mode and will shut down' on server ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017. The full response is {"topologyVersion": {"processId": {"$oid": "697a03a9db663abe856e551f"}, "counter": 10}, "ok": 0.0, "errmsg": "The server is in quiesce mode and will shut down", "code": 91, "codeName": "ShutdownInProgress", "remainingQuiesceTimeMillis": 15000, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1769700284, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "6qtPz8A3QRQZG1F6QIk3tVgvf34=", "subType": "00"}}, "keyId": 7553355011183345676}}, "operationTime": {"$timestamp": {"t": 1769700284, "i": 1}}}
	at com.mongodb.internal.connection.ProtocolHelper.createSpecialException(ProtocolHelper.java:264) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:206) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:520) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:469) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.doHeartbeat(DefaultServerMonitor.java:311) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.lookupServerDescription(DefaultServerMonitor.java:262) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.run(DefaultServerMonitor.java:203) ~[mongodb-driver-core-5.6.2.jar:na]

2026-01-29T22:24:54.024+07:00  INFO 9456 --- [user-service] [cluster-ClusterId{value='697b77407e37b50d15562acf', description='user-data'}-ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017] [                                                 ] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017, type=REPLICA_SET_SECONDARY, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=38694554, minRoundTripTimeNanos=35606900, setName='atlas-h93add-shard-0', canonicalAddress=ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017, hosts=[ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017], passives=[], arbiters=[], primary='ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=45, topologyVersion=TopologyVersion{processId=697b74c584123dc195d10ea7, counter=4}, lastWriteDate=Thu Jan 29 22:24:52 GMT+07:00 2026, lastUpdateTimeNanos=131678228305200}
2026-01-29T22:25:05.464+07:00  INFO 9456 --- [user-service] [cluster-ClusterId{value='697b77407e37b50d15562acf', description='user-data'}-ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017] [                                                 ] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017

com.mongodb.MongoSocketReadTimeoutException: Timeout while receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.createReadTimeoutException(InternalStreamConnection.java:819) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:807) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:857) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:517) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceiveInternal(InternalStreamConnection.java:448) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.lambda$sendAndReceive$0(InternalStreamConnection.java:375) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:378) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:98) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:47) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:144) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:78) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:235) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.setupNewConnectionAndGetInitialDescription(DefaultServerMonitor.java:282) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.lookupServerDescription(DefaultServerMonitor.java:253) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.run(DefaultServerMonitor.java:203) ~[mongodb-driver-core-5.6.2.jar:na]
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:277) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:302) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:354) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:798) ~[na:na]
	at java.base/java.net.Socket$SocketInputStream.implRead(Socket.java:974) ~[na:na]
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:964) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:489) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:483) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1461) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1068) ~[na:na]
	at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:182) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:824) ~[mongodb-driver-core-5.6.2.jar:na]
	... 12 common frames omitted

2026-01-29T22:25:17.720+07:00  INFO 9456 --- [user-service] [cluster-ClusterId{value='697b77407e37b50d15562acf', description='user-data'}-ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017] [                                                 ] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:85) ~[mongodb-driver-core-5.6.2.jar:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:85) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:233) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.setupNewConnectionAndGetInitialDescription(DefaultServerMonitor.java:282) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.lookupServerDescription(DefaultServerMonitor.java:253) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitor.run(DefaultServerMonitor.java:203) ~[mongodb-driver-core-5.6.2.jar:na]
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:639) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:550) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:594) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:284) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:659) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:304) ~[na:na]
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:104) ~[mongodb-driver-core-5.6.2.jar:na]
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:79) ~[mongodb-driver-core-5.6.2.jar:na]
	... 4 common frames omitted

2026-01-29T22:25:42.716+07:00  INFO 9456 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T22:30:42.729+07:00  INFO 9456 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T22:31:58.414+07:00  INFO 9456 --- [user-service] [cluster-ClusterId{value='697b77407e37b50d15562acf', description='user-data'}-ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017] [                                                 ] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017, type=REPLICA_SET_SECONDARY, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=9929494000, minRoundTripTimeNanos=0, setName='atlas-h93add-shard-0', canonicalAddress=ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017, hosts=[ac-69d9bqo-shard-00-00.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017, ac-69d9bqo-shard-00-02.gqw7u26.mongodb.net:27017], passives=[], arbiters=[], primary='ac-69d9bqo-shard-00-01.gqw7u26.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=45, topologyVersion=TopologyVersion{processId=697b7d3cf3fd2daab9b14e6d, counter=3}, lastWriteDate=Thu Jan 29 22:31:57 GMT+07:00 2026, lastUpdateTimeNanos=132102618201300}
2026-01-29T22:35:42.742+07:00  INFO 9456 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T22:40:42.744+07:00  INFO 9456 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T22:45:42.755+07:00  INFO 9456 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T22:50:42.777+07:00  INFO 9456 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T22:55:42.782+07:00  INFO 9456 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T23:00:42.792+07:00  INFO 9456 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T23:05:42.799+07:00  INFO 9456 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T23:10:42.805+07:00  INFO 9456 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2026-01-29T23:15:42.817+07:00  INFO 9456 --- [user-service] [AsyncResolver-bootstrap-executor-%d] [                                                 ] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
